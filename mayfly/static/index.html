<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Mayfly - IRIS Traffic Data</title>
    <link rel="stylesheet" href="mayfly.css">
</head>

<body>
<h2>Mayfly - Traffic Data Archive</h2>
<p>
    This site is for the distribution of traffic data collected by the IRIS
    traffic management system.
</p>

<table>
  <tr>
    <th>Path</th>
    <th>Response Body</th>
  </tr>
  <tr>
    <td class="path"><a href="/mayfly/districts">/mayfly/districts</a></td>
    <td>List of districts in the archive</td>
  </tr>
  <tr>
    <td class="path"><a href="/mayfly/years">/mayfly/years</a></td>
    <td>List of years with traffic data</td>
  </tr>
  <tr>
    <td class="path">/mayfly/dates</td>
    <td>List of dates with traffic data in a year</td>
  </tr>
  <tr>
    <td class="path">/mayfly/corridors</td>
    <td>List of corridors configured on a given date</td>
  </tr>
  <tr>
    <td class="upath">/mayfly/nodes</td>
    <td class="unimplemented">List of nodes on a corridor on a given date</td>
  </tr>
  <tr>
    <td class="path">/mayfly/detectors</td>
    <td>List of detectors with traffic data on a given date</td>
  </tr>
  <tr>
    <td class="path">/mayfly/counts</td>
    <td>Vehicle count data for one detector on a given date</td>
  </tr>
  <tr>
    <td class="path">/mayfly/speed</td>
    <td>Speed data (mph) for one detector on a given date</td>
  </tr>
  <tr>
    <td class="path">/mayfly/occupancy</td>
    <td>Occupancy data (%) for one detector on a given date</td>
  </tr>
  <tr>
    <td class="path">/mayfly/length</td>
    <td>Length data (ft) for one detector on a given date</td>
  </tr>
</table>

<p>
    All response bodies are JSON arrays.
</p>

<hr>

<table>
  <tr>
    <th>Path</th>
    <td class="path">/mayfly/districts</td>
  </tr>
  <tr>
    <th>Query Params</th>
    <td>N/A</td>
  </tr>
  <tr>
    <th>Example URI</th>
    <td class="example">/mayfly/districts</td>
  </tr>
</table>

<hr>

<table>
  <tr>
    <th>Path</th>
    <td class="path" colspan="2">/mayfly/years</td>
  </tr>
  <tr>
    <th>Query Params</th>
    <td>district</td><td class="example">default tms</td>
  </tr>
  <tr>
    <th>Example URI</th>
    <td class="example" colspan="2">/mayfly/years?district=d3</td>
  </tr>
</table>

<hr>

<table>
  <tr>
    <th>Path</th>
    <td class="path" colspan="2">/mayfly/dates</td>
  </tr>
  <tr>
    <th rowspan="2">Query Params</th>
    <td>district</td><td class="example">default tms</td>
  </tr>
  <tr>
    <td>year</td><td class="example">4 digits</td>
  </tr>
  <tr>
    <th>Example URI</th>
    <td class="example" colspan="2">/mayfly/dates?year=2021</td>
  </tr>
</table>

<hr>

<table>
  <tr>
    <th>Path</th>
    <td class="path" colspan="2">/mayfly/corridors</td>
  </tr>
  <tr>
    <th rowspan="2">Query Params</th>
    <td>district</td><td class="example">default tms</td>
  </tr>
  <tr>
    <td>date</td><td class="example">8 digits yyyyMMdd</td>
  </tr>
  <tr>
    <th>Example URI</th>
    <td class="example" colspan="2">/mayfly/corridors?date=20210109</td>
  </tr>
</table>

<hr>

<table>
  <tr>
    <th>Path</th>
    <td class="path" colspan="2">/mayfly/nodes</td>
  </tr>
  <tr>
    <th rowspan="3">Query Params</th>
    <td>district</td><td class="example">default tms</td>
  </tr>
  <tr>
    <td>date</td><td class="example">8 digits yyyyMMdd</td>
  </tr>
  <tr>
    <td>corridor</td><td class="example">identifier</td>
  </tr>
  <tr>
    <th>Example URI</th>
    <td class="example" colspan="2">/mayfly/nodes?date=20210415&amp;corridor=94_EB</td>
  </tr>
</table>

<hr>

<table>
  <tr>
    <th>Path</th>
    <td class="path" colspan="2">/mayfly/detectors</td>
  </tr>
  <tr>
    <th rowspan="2">Query Params</th>
    <td>district</td><td class="example">default tms</td>
  </tr>
  <tr>
    <td>date</td><td class="example">8 digits yyyyMMdd</td>
  </tr>
  <tr>
    <th>Example URI</th>
    <td class="example" colspan="2">/mayfly/detectors?date=20210314</td>
  </tr>
</table>

<hr>

<table>
  <tr>
    <th>Path</th>
    <td class="path" colspan="2">/mayfly/counts</td>
  </tr>
  <tr>
    <th rowspan="4">Query Params</th>
    <td>district</td><td class="example">default tms</td>
  </tr>
  <tr>
    <td>date</td><td class="example">8 digits yyyyMMdd</td>
  </tr>
  <tr>
    <td>detector</td><td class="example">identifier</td>
  </tr>
  <tr>
    <th>Example URI</th>
    <td class="example" colspan="2">/mayfly/counts?date=20210225&amp;detector=363</td>
  </tr>
</table>

<hr>

<table>
  <tr>
    <th>Path</th>
    <td class="path" colspan="2">/mayfly/speed</td>
  </tr>
  <tr>
    <th rowspan="4">Query Params</th>
    <td>district</td><td class="example">default tms</td>
  </tr>
  <tr>
    <td>date</td><td class="example">8 digits yyyyMMdd</td>
  </tr>
  <tr>
    <td>detector</td><td class="example">identifier</td>
  </tr>
  <tr>
    <th>Example URI</th>
    <td class="example" colspan="2">/mayfly/speed?date=20210225&amp;detector=363</td>
  </tr>
</table>

<hr>

<table>
  <tr>
    <th>Path</th>
    <td class="path" colspan="2">/mayfly/occupancy</td>
  </tr>
  <tr>
    <th rowspan="4">Query Params</th>
    <td>district</td><td class="example">default tms</td>
  </tr>
  <tr>
    <td>date</td><td class="example">8 digits yyyyMMdd</td>
  </tr>
  <tr>
    <td>detector</td><td class="example">identifier</td>
  </tr>
  <tr>
    <th>Example URI</th>
    <td class="example" colspan="2">/mayfly/occupancy?date=20210225&amp;detector=363</td>
  </tr>
</table>

<hr>

<table>
  <tr>
    <th>Path</th>
    <td class="path" colspan="2">/mayfly/length</td>
  </tr>
  <tr>
    <th rowspan="4">Query Params</th>
    <td>district</td><td class="example">default tms</td>
  </tr>
  <tr>
    <td>date</td><td class="example">8 digits yyyyMMdd</td>
  </tr>
  <tr>
    <td>detector</td><td class="example">identifier</td>
  </tr>
  <tr>
    <th>Example URI</th>
    <td class="example" colspan="2">/mayfly/length?date=20210225&amp;detector=363</td>
  </tr>
</table>

<hr>

<p>
    Additional query filter parameters are available for the following paths:
</p>
<ul>
    <li class="path">/mayfly/counts</li>
    <li class="path">/mayfly/speed</li>
    <li class="path">/mayfly/occupancy</li>
    <li class="path">/mayfly/length</li>
</ul>

<table>
  <tr>
    <th rowspan="4">Query Params</th>
    <td>length_min_ft</td>
    <td class="example">Minimum vehicle length filter</td>
  </tr>
  <tr>
    <td>length_max_ft</td>
    <td class="example">Maximum vehicle length filter (non-inclusive)</td>
  </tr>
  <tr>
    <td>speed_min_mph</td>
    <td class="example">Minimum vehicle speed filter</td>
  </tr>
  <tr>
    <td>speed_max_mph</td>
    <td class="example">Maximum vehicle speed filter (non-inclusive)</td>
  </tr>
</table>

<p>
    These can be used, for example, for vehicle classification.
    Adding <span class="path">length_min_ft=7&amp;length_max_ft=19</span> to
    a query will return data for vehicles in that length range.
</p>

</body>
</html>
